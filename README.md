
# Phokat APIs

Its a Node JS and MongoDB Atlas backend project that basically performs CRUD operation by using various REST API methods. One can use a API Client Software (like Postman, ThunderClient, etc.) to demonstrate / use this project.

THIS IS NOT A LOCAL PROJECT! 

So don't worry to install and run locally, the source code for the program is public and I have used render.com to depoly the project.

NOTE: The initial response from the server can take upto a minute so be patient when hitting any API endpoint for the first time, this happens because the deployment uses hobby (free) server, afterwards the respone is fast and takes normal time as expected.
## API Reference

#### Homepage

```http
  [GET] at https://express-mongo-crudapp.onrender.com/
```

Its sends a http response, we can use it to active the app as the hobby server puts the app on sleep if its not pinged after a particular time.

#### Get All Users

```http
  [GET] at https://express-mongo-crudapp.onrender.com/allusers
```

Returns an array of JSONs of all the users in the database.

#### Create a User

```http
  [POST] at https://express-mongo-crudapp.onrender.com/users
```

Structure of the JSON object to send in this POST request body:

| KEYS | Type     | Description of VALUES
| :-------- | :------- | :-------------------------------- |
| `name` | `string` | Name of the user |
| `username` | `string` | A username unique to user |
| `email` | `string` | An email address unique to user |
| `phone` | `string` | Phone No. of the user |
| `deleted` | `string` | This field is to practice the soft delete |

The success response of the request is a JSON object of the created user. Some extra fields are auto generated by the database but its none of end user interest.

#### Search User from username

```http
  [GET] at https://express-mongo-crudapp.onrender.com/users/${username}
```
If the user is found the respnose is user JSON object or a JSON object with a message "User Not Foud"!

#### Updating User Email from username

```http
  [PUT] at https://express-mongo-crudapp.onrender.com/emailupdate/${username}
```
Structure of the JSON object to send in this PUT request body:

| Parameter | Type     | Description |
| :-------- | :------- | :-------------------------------- |
| `email` | `string` | Enter the new update email. |

The successful response of this request returns the whole user object with updated email.

#### Update username of User from email

```http
  [PUT] at https://express-mongo-crudapp.onrender.com/usernameupdate/${email}
```

| Parameter | Type | Description |
| :-------- | :------- | :-------------------------------- |
| `username` | `string` | Enter the new updated username. |

The successful response of this request returns the whole user object with updated username.

#### Update phone of User from username

```http
  [PUT] at https://express-mongo-crudapp.onrender.com/phoneupdate/${username}
```

| Parameter | Type | Description |
| :-------- | :------- | :-------------------------------- |
| `phone` | `string` | Enter the new updated phone. |

The successful response of this request returns the whole user object with updated phone.

#### Deleting a User

```http
  [DELETE] at https://express-mongo-crudapp.onrender.com/delete/${username}
```

| Parameter | Type | Description |
| :-------- | :------- | :-------------------------------- |
| `username` | `string` | Enter the username of the user to be deleted. |

The successful response of this request returns the whole user object with updated phone.
## Usage/Examples

**Homepage**

```javascript
[GET] at -> https://express-mongo-crudapp.onrender.com/
```

**Get All Users**

```javascript
[GET] at -> https://express-mongo-crudapp.onrender.com/allusers
```

**Createing a new User**

```javascript
[POST] at -> https://express-mongo-crudapp.onrender.com/users

Request Body:
{
    "name":"Raj",
    "username":"Codeofraj",
    "email":"codeofraj@gmail.com",
    "phone":91133387876,
    "deleted":false
}

Response Body:
{
    "name":"Raj",
    "username":"Codeofraj",
    "email":"codeofraj@gmail.com",
    "phone":91133387876,
    "deleted":false
}
```

**Search User from username**

```javascript
[GET] at -> https://express-mongo-crudapp.onrender.com/users/${username}

Request Body:
{
    "username":"Codeofraj"
}

Response Body:
{
    "name":"Raj",
    "username":"Codeofraj",
    "email":"codeofraj@gmail.com",
    "phone":91133387876,
    "deleted":false
}
```

**Updating User Email from username**

```javascript
[PUT] at -> https://express-mongo-crudapp.onrender.com/emailupdate/Codeofraj

Request Body:
{
    "email":"codeofraj@email.com"
}

Response Body:
{
    "name":"Raj",
    "username":"Codeofraj",
    "email":"codeofraj@email.com",
    "phone":91133387876,
    "deleted":false
}
```
**Updating username from User Email**

```javascript
[PUT] at -> https://express-mongo-crudapp.onrender.com/usernameupdate/codeofraj@email.com

Request Body:
{
    "username":"_bookofraj"
}

Response Body:
{
    "name":"Raj",
    "username":"_bookofraj",
    "email":"codeofraj@email.com",
    "phone":91133387876,
    "deleted":false
}
```

**Updating User Phone from username**

```javascript
[PUT] at -> https://express-mongo-crudapp.onrender.com/emailupdate/_bookofraj

Request Body:
{
    "phone":"9887766554"
}

Response Body:
{
    "name":"Raj",
    "username":"Codeofraj",
    "email":"codeofraj@email.com",
    "phone":9887766554,
    "deleted":false
}
```

**Deleting User from username**

```javascript
[PUT] at -> https://express-mongo-crudapp.onrender.com/emailupdate/_bookofraj

Response Body:
{
  "Message": "User _bookofraj is DELETED!"
}
```


## Authors

- [@bookofraj](https://www.github.com/bookofraj)
LinkedIn Profile: [https://www.linkedin.com/in/bookofraj/]

Email: [riturajmathur30@gmail.com]
## Acknowledgements

 - Shivam Verma [https://github.com/shivamverma4]
 - [How to write a Good readme](https://bulldogjob.com/news/449-how-to-write-a-good-readme-for-your-github-project)
 - Mongoose ODM [https://mongoosejs.com/docs/]
    (NOTE: doc is not up-to-date)
 - Express [https://expressjs.com/]
 - Mongo DB Atlas Free Service [https://www.mongodb.com/docs/atlas/]
## ðŸš€ About Me
I'm a MERN stack developer...